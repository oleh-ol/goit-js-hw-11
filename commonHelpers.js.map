{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["'use strict'\n\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst BASE_URL = \"https://pixabay.com/api/?\";\nconst API_KEY = \"41837495-d070c30be5c0243a4bb3b397a\";\nconst form = document.querySelector('.search-form');\nconst galleryBox = document.querySelector('.gallery');\n\nlet gallery = new SimpleLightbox('.gallery a', { \n    captionsData: 'alt',\n    captionDelay: 250\n});\n\nform.addEventListener(\"submit\", event => {\n    event.preventDefault();\n\n    galleryBox.innerHTML =\n        `<li>\n        <span class=\"loader\"></span>\n    </li>`\n\n    const value = event.target.elements.keywords.value;\n\n    const searchParams = new URLSearchParams({\n        key: API_KEY,\n        q: value,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true,\n    });\n\n    fetch(`${BASE_URL}${searchParams}`)\n        .then(response => {\n            if (!response.ok)\n                throw new Error(response.status);\n            return response.json();\n        })\n        .then(addImages)\n        .catch(showError)\n});\n\nconst addImages = images => {\n    if (images.hits.length === 0) throw new Error(images.status);\n    galleryBox.innerHTML = images.hits.reduce((html, { largeImageURL, webformatURL, tags, likes, views, comments, downloads }) => html + `\n    <li class=\"img\">\n       <a href=\"${largeImageURL}\"><img src=\"${webformatURL}\" alt=\"${tags}\"></a>\n      <ul class=\"img-info\">\n        <li class=\"img-info-item\"><span>Likes</span> ${likes}</li>\n        <li class=\"img-info-item\"><span>Views</span> ${views}</li>\n        <li class=\"img-info-item\"><span>Comments</span> ${comments}</li>\n        <li class=\"img-info-item\"><span>Downloads</span> ${downloads}</li>\n      </ul>\n    </li>`, '');\n\n    gallery.refresh();\n}\n\nconst showError = () => {\n    iziToast.show({\n        message: `Sorry, there are no images matching your search query. Please try again!`,\n        maxWidth: 432,\n        iconUrl: './img/error-icon.svg',\n        iconColor: '#FFFFFF',\n        backgroundColor: '#EF4040',\n        messageColor: '#FFFFFF',\n        position: 'topRight'\n    });\n    imagesContainer.innerHTML = '';\n}"],"names":["BASE_URL","API_KEY","form","galleryBox","gallery","SimpleLightbox","event","value","searchParams","response","addImages","showError","images","html","largeImageURL","webformatURL","tags","likes","views","comments","downloads","iziToast"],"mappings":"6vBAOA,MAAMA,EAAW,4BACXC,EAAU,qCACVC,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAa,SAAS,cAAc,UAAU,EAEpD,IAAIC,EAAU,IAAIC,EAAe,aAAc,CAC3C,aAAc,MACd,aAAc,GAClB,CAAC,EAEDH,EAAK,iBAAiB,SAAUI,GAAS,CACrCA,EAAM,eAAc,EAEpBH,EAAW,UACP;AAAA;AAAA,WAIJ,MAAMI,EAAQD,EAAM,OAAO,SAAS,SAAS,MAEvCE,EAAe,IAAI,gBAAgB,CACrC,IAAKP,EACL,EAAGM,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACpB,CAAK,EAED,MAAM,GAAGP,IAAWQ,GAAc,EAC7B,KAAKC,GAAY,CACd,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAMA,EAAS,MAAM,EACnC,OAAOA,EAAS,MAC5B,CAAS,EACA,KAAKC,CAAS,EACd,MAAMC,CAAS,CACxB,CAAC,EAED,MAAMD,EAAYE,GAAU,CACxB,GAAIA,EAAO,KAAK,SAAW,EAAG,MAAM,IAAI,MAAMA,EAAO,MAAM,EAC3DT,EAAW,UAAYS,EAAO,KAAK,OAAO,CAACC,EAAM,CAAE,cAAAC,EAAe,aAAAC,EAAc,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,IAAOP,EAAO;AAAA;AAAA,kBAEvHC,gBAA4BC,WAAsBC;AAAA;AAAA,uDAEbC;AAAA,uDACAC;AAAA,0DACGC;AAAA,2DACCC;AAAA;AAAA,WAE/C,EAAE,EAEVhB,EAAQ,QAAO,CACnB,EAEMO,EAAY,IAAM,CACpBU,EAAS,KAAK,CACV,QAAS,2EACT,SAAU,IACV,QAAS,uBACT,UAAW,UACX,gBAAiB,UACjB,aAAc,UACd,SAAU,UAClB,CAAK,EACD,gBAAgB,UAAY,EAChC"}